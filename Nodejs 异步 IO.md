

# Nodejs 异步 IO



## temp

* 异步底层是如何实现的？让 OS 去创建线程去读取？
* 多线程读取文件是读取线程中阻塞？



## OS 内容

IO 操作消耗的资源不在 CPU ，计算机利用 `DMA` 读取文件，不占用 CPU



### 子线程

从主线程创建的线程就是该线程的子线程，本质上没有具体的区别

### 多线程

多线程的执行宏观上是并行的，微观上是串行的



### 并发相关性能指标

* 请求数 QPS ：即通俗讲的并发数，即每秒处理的请求。如果 http 头中有 close 则关闭这次 TCP 连接。如有 Keep-Alive ，则本次连接不关闭。
* 并发连接数 SBC ：即每秒服务器连接的 TCP 总数，即进程创建的最多线程数目





## 多线程与非异步的单线程



多线程：优势是可以很好利用多核多线程 CPU ，但是存在锁以及状态同步问题将问题复杂化

非异步的单线程：代码串行化易懂，虽然 OS 会平均分配时间片，所以会将时间片平均分配

















### BS model vs CS model







## 参考

https://zhuanlan.zhihu.com/p/113116894